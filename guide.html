# Save the generated HTML content to a file so the user can download it.
html_content = """<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>BABOK® Guide v3 — Responsive HTML</title>
    <!-- Tailwind via CDN for preview; swap to your build pipeline for production -->
    <script src="https://cdn.tailwindcss.com"></script>
    <meta name="description" content="Smartphone-ready, accessible HTML conversion of BABOK® Guide v3 with preserved links, responsive layout, and WCAG 2.2 AA semantics." />
    <style>
      @media print {
        .break-after-page { break-after: page; }
        nav, .no-print { display: none !important; }
      }
      .arrow::after { content: ""; position: absolute; right: -20px; top: 50%; width: 20px; height: 2px; background: currentColor; }
      .arrow-end::after { display: none; }
      .arrow svg { position: absolute; right: -4px; top: calc(50% - 6px); }
    </style>
  </head>
  <body class="min-h-screen bg-white text-slate-900 antialiased">
    <a href="#main" class="sr-only focus:not-sr-only focus:absolute focus:top-2 focus:left-2 focus:bg-yellow-200 focus:text-black focus:px-3 focus:py-1 focus:rounded">Skip to content</a>
    <header role="banner" class="sticky top-0 z-40 bg-white/90 backdrop-blur border-b border-slate-200">
      <div class="max-w-6xl mx-auto px-4 sm:px-6 py-3 flex items-center gap-3">
        <img aria-hidden="true" class="w-8 h-8" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='64' height='64' viewBox='0 0 24 24' fill='none' stroke='%230f172a' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Crect x='3' y='4' width='18' height='16' rx='2'/%3E%3Cpath d='M7 8h10M7 12h10M7 16h6'/%3E%3C/svg%3E" alt="" />
        <div class="flex-1">
          <h1 class="text-base sm:text-lg font-semibold tracking-tight">A Guide to the Business Analysis Body of Knowledge® (BABOK®) v3</h1>
          <p class="text-xs sm:text-sm text-slate-600">Responsive HTML edition (smartphone-ready) — headers & page numbers removed</p>
        </div>
        <button id="tocToggle" class="no-print inline-flex items-center gap-2 rounded-2xl border border-slate-300 px-3 py-1.5 text-sm bg-white hover:bg-slate-50 shadow-sm" aria-controls="toc" aria-expanded="false">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg>
          <span>Contents</span>
        </button>
      </div>
    </header>
    <div class="max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-[280px_1fr] gap-6 px-4 sm:px-6">
      <nav id="toc" class="no-print lg:sticky lg:top-[60px] lg:self-start lg:h-[calc(100vh-60px)] lg:overflow-auto mt-4 lg:mt-6 hidden lg:block" aria-label="Table of contents">
        <ol class="space-y-2 text-sm leading-6">
          <li><a class="text-slate-800 hover:text-blue-700 underline underline-offset-4" href="#chapter-1">Chapter 1: Introduction</a></li>
          <li><a class="text-slate-800 hover:text-blue-700 underline underline-offset-4" href="#chapter-2">Chapter 2: Business Analysis Key Concepts</a></li>
        </ol>
      </nav>
      <main id="main" role="main" class="pb-24">
        <section id="chapter-1" class="scroll-mt-24" aria-labelledby="ch1-title">
          <header>
            <h2 id="ch1-title" class="text-2xl sm:text-3xl font-extrabold tracking-tight">Chapter 1: Introduction</h2>
          </header>
          <article id="sec-1-1" class="mt-6" aria-labelledby="sec-1-1-title">
            <h3 id="sec-1-1-title" class="text-xl sm:text-2xl font-bold">1.1 Purpose of the BABOK® Guide</h3>
            <p class="mt-3">The primary purpose of the BABOK® Guide is to define the profession of business analysis and provide a set of commonly accepted practices.</p>
          </article>
        </section>
      </main>
    </div>
    <script>
      const btn = document.getElementById('tocToggle');
      const toc = document.getElementById('toc');
      if (btn && toc) {
        btn.addEventListener('click', () => {
          const isHidden = toc.classList.contains('hidden');
          toc.classList.toggle('hidden');
          btn.setAttribute('aria-expanded', String(isHidden));
        });
      }
    </script>
  </body>
</html>"""

output_path = "/mnt/data/babok_guide_v3.html"

with open(output_path, "w", encoding="utf-8") as f:
    f.write(html_content)

output_path
